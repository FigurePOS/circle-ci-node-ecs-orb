description: >
  terraform validation and deploy

executor: default

parameters:
  dir:
    type: string
    default: "tf"
    description: "Dir with terraform scripts"

steps:
  - validate:
      account_id: "880892332156"
      dir: << parameters.dir >>
  - deploy_dev:
      account_id: "880892332156"
      dir: << parameters.dir >>
  - plan_prod:
      account_id: "682919404744"
      dir: << parameters.dir >>
  - deploy_prod:
      account_id: "682919404744"
      dir: << parameters.dir >>
